(()=>{"use strict";var e={134:(e,t,n)=>{function a(){const e={};return{on:function(t,n){return e[t]?e[t].push(n):e[t]=[n],()=>{const a=e[t].indexOf(n);a>-1&&e[t].splice(a,1)}},emit:function(t,...n){const a=e[t],o=e["*"];a&&[...a].forEach((e=>e(...n))),o&&[...o].forEach((e=>e(t,...n)))}}}n.d(t,{Z:()=>a})}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{const e=[];function t(t){const n={};return e.forEach((e=>{const a=t[e];var o;(o=a)!==Object(o)?n[e]=a:n["$$"+e]=function(e){if("TimeRanges"===e.constructor.name){const t=[];for(let n=0;n<e.length;n++)t.push([e.start(n),e.end(n)]);return{type:"TimeRanges",argument:{length:e.length,data:t}}}return"$$@todo"+e.constructor.name}(a)})),n}[...Object.getOwnPropertyNames(HTMLVideoElement.prototype),...Object.getOwnPropertyNames(HTMLMediaElement.prototype)].forEach((t=>{try{"function"!=typeof HTMLVideoElement.prototype[t]&&e.push(t)}catch(n){e.push(t)}}));const a=["loadstart","progress","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","play","pause","ratechange","resize","volumechange"],o=["loadstart","loadedmetadata","loadeddata","canplay","emptied","canplaythrough"],i=e=>{try{return JSON.parse(e)}catch(e){return{payload:{}}}};function s(){const e=(46656*Math.random()|0).toString(36),t=(46656*Math.random()|0).toString(36);return("000"+e).slice(-3)+("000"+t).slice(-3)}const r=e=>"PRINCIPAL"===e?"AGENT":"PRINCIPAL",d="@vdo/PR-via-custom-event-",l="@vdo/MT-via-custom-event-";function u(e){return"iframe"===e.type?function({element:e,operatingMode:t}){const n={isActive:!1,source:null,origin:"*",onConnected:null,onReady:null,onStateUpdate:null},{bindPromise:a,settlePromise:o}=function(e){const t={};return e.addEventListener("message",(({data:e})=>{const{token:n,type:a,status:o=!0,payload:s}=i(e);"@vdo/promiseResolver"===a&&n&&n in t&&(o?t[n][0](s):t[n][1](s),delete t[n])})),{bindPromise:function(e,n){const a=s();return t[a]=[e,n],a},settlePromise:function(e,t,n=!0,a){null==e||e.postMessage(JSON.stringify({type:"@vdo/promiseResolver",token:t,status:n,payload:a}),"*")}}}(window),r=function(e){const t={};return{add:(e,n)=>{t[e]?t[e].push(n):t[e]=[n]},onMessage:(n,a,o,i)=>{t[n]&&t[n].forEach((t=>{const n=t(a);"function"==typeof(null==n?void 0:n.then)?n.then((t=>{o&&i&&e(i,o,!0,t)})).catch((t=>{o&&i&&e(i,o,!1,t)})):o&&i&&e(i,o,!0,n)}))}}}(o),d=[],l=(e,t)=>(n.isActive||d.push([e,t]),new Promise(((o,i)=>{var s;const r=a(o,i);null===(s=n.source)||void 0===s||s.postMessage(JSON.stringify({type:e,token:r,payload:t}),"*")})));window.addEventListener("message",(({data:e,source:t})=>{const{type:a,payload:s={},token:d}=i(e);if(a)return"@vdo/handshakeSuccessful"===a&&n.onConnected?n.onConnected():"@vdo/handshake"===a&&t&&s.origin&&d?((e,t,a)=>{n.source=e,n.isActive=!0,n.origin=t,n.onConnected&&n.onConnected(),l("@vdo/handshakeSuccessful",{origin:t}),a&&o(e,a,!0)})(t,origin,d):"@vdo/readyToHandshake"===a&&n.onReady?n.onReady():void(t===n.source&&(s.videoState&&n.onStateUpdate&&n.onStateUpdate(s.videoState),r.onMessage(a,s,d,t)))}));const u={send:l,onStateUpdate:e=>n.onStateUpdate=e,on:r.add,isConnected:()=>n.isActive};return"PRINCIPAL"===t?Object.assign(Object.assign({},u),{operatingMode:"PRINCIPAL",handshake:{onSuccess:e=>n.onConnected=e,onReady:e=>n.onReady=e,ready:()=>{window.parent.postMessage(JSON.stringify({type:"@vdo/readyToHandshake"}),"*")}}}):Object.assign(Object.assign({},u),{operatingMode:"AGENT",handshake:{onSuccess:e=>n.onConnected=e,onReady:e=>n.onReady=e,request:()=>new Promise(((t,o)=>{var i;if(!(e instanceof HTMLIFrameElement))return;n.source=e.contentWindow;const s=a(t,o);null===(i=e.contentWindow)||void 0===i||i.postMessage(JSON.stringify({type:"@vdo/handshake",token:s,payload:{origin:window.location.origin}}),"*")}))}})}(e):function({element:e,operatingMode:t}){const n=l+t,a=l+r(t),o={isActive:!1,element:e,onConnected:null,onReady:null,onStateUpdate:null},{bindPromise:u,settlePromise:c}=function(e,t){const n=d+t,a=d+r(t),o={};return e.addEventListener(n,(function(e){const{token:t,status:n=!0,payload:a}=i(e.detail);t&&t in o&&(n?o[t][0](a):o[t][1](a),delete o[t])})),{bindPromise:function(e,t){const n=s();return o[n]=[e,t],n},settlePromise:function(t,n=!0,o){e.dispatchEvent(new CustomEvent(a,{detail:JSON.stringify({token:t,status:n,payload:o})}))}}}(e,t),v=function(e){const t={};return{add:(e,n)=>{t[e]?t[e].push(n):t[e]=[n]},onMessage:(n,a,o)=>{t[n]&&t[n].forEach((t=>{const n=t(a);"function"==typeof(null==n?void 0:n.then)?n.then((t=>{o&&e(o,!0,t)})).catch((t=>{o&&e(o,!1,t)})):o&&e(o,!0,n)}))}}}(c),p=[],m=(t,n)=>(o.isActive||p.push([t,n]),new Promise(((o,i)=>{const s=u(o,i),r=JSON.stringify({type:t,token:s,payload:n});e.dispatchEvent(new CustomEvent(a,{detail:r}))})));e.addEventListener(n,(({detail:e})=>{const{type:t,payload:n={},token:a}=i(e);if(t)return n.videoState&&o.onStateUpdate&&o.onStateUpdate(n.videoState),"@vdo/handshakeSuccessful"===t&&o.onConnected?o.onConnected():"@vdo/handshake"===t&&n.origin&&a?(e=>{o.isActive=!0,o.onConnected&&o.onConnected(),m("@vdo/handshakeSuccessful",{origin}),e&&c(e,!0)})(a):"@vdo/readyToHandshake"===t&&o.onReady?o.onReady():void v.onMessage(t,n,a)}));const h={send:m,onStateUpdate:e=>o.onStateUpdate=e,on:v.add,isConnected:()=>o.isActive};return"PRINCIPAL"===t?Object.assign(Object.assign({},h),{operatingMode:"PRINCIPAL",handshake:{onSuccess:e=>o.onConnected=e,onReady:e=>o.onReady=e,ready:()=>{const t=JSON.stringify({type:"@vdo/readyToHandshake"});e.dispatchEvent(new CustomEvent("@vdo/MT-via-custom-event-AGENT",{detail:t}))}}}):Object.assign(Object.assign({},h),{operatingMode:"AGENT",handshake:{onSuccess:e=>o.onConnected=e,onReady:e=>o.onReady=e,request:()=>new Promise(((t,n)=>{const a=u(t,n),o=JSON.stringify({type:"@vdo/handshake",token:a,payload:{origin:window.location.origin}});e.dispatchEvent(new CustomEvent("@vdo/MT-via-custom-event-PRINCIPAL",{detail:o}))}))}})}(e)}var c=n(134);function v(e){this.__store=e||[],this.length=this.__store.length}function p(){let e={};return{update:t=>{return n=t,Object.keys(n).filter((e=>e.startsWith("$$"))).forEach((e=>{const t=n[e];if("string"==typeof t)return n[e.slice(2)]="NOT_AVAILABLE_ON_API",delete n[e];if("string"!=typeof t){const{type:a,argument:o}=t;if("TimeRanges"===a)return n[e.slice(2)]=new v(o.data),delete n[e]}return n[e.slice(2)]="NOT_AVAILABLE_ON_API",delete n[e]})),e=n;var n},getAll:()=>e,get:t=>e[t]}}v.prototype.start=function(e){return this.__store[e][0]},v.prototype.end=function(e){return this.__store[e][1]};const m=["fullscreenChange","videoAdaptivenessChange","videoQualityChange","error","statusChange","captionVisibilityChange","captionLanguageChange"];function h(e,t,n){const a={totalPlayed:0,abrStatus:!0,totalCovered:0,captionVisibility:!1,totalCoveredArray:[],_totalPlayedCountLastPos:0,availableQualities:[],availableCaptions:[],metaData:void 0,isWaitingForCaptions:!0};return((e,t)=>{e.addEventListener("timeupdate",(function(){const n=Math.floor(e.currentTime);n===t._totalPlayedCountLastPos+1?(t.totalPlayed++,t._totalPlayedCountLastPos=n,t.totalCoveredArray[n]?t.totalCoveredArray[n]++:(t.totalCovered++,t.totalCoveredArray[n]=1)):n!==t._totalPlayedCountLastPos&&(t._totalPlayedCountLastPos=n)}))})(e,a),((e,t)=>{e.on("availableCaptionsWithActiveStatus",(e=>{t.availableCaptions=e[0],t.isWaitingForCaptions=!1})),e.on("captionLanguageChange",(e=>{t.availableCaptions=t.availableCaptions.map(((t,n)=>Object.assign(Object.assign({},t),{active:String(n)===e[0]})))})),e.on("availableQualities",(e=>{t.availableQualities=e[0]})),e.on("_metaDataLoadSuccess",(e=>{t.metaData=e[0]})),e.on("abrStatusChange",(e=>{t.abrStatus=!!e[0]})),e.on("captionVisibilityChange",(e=>{t.captionVisibility=e[0]})),e.on("abrStatusChange",(t=>{e.emit("videoAdaptivenessChange",t)})),e.on("setActiveQuality",(t=>{e.emit("qualityChange",t)})),e.on("qualityChange",(n=>{e.emit("videoQualityChange",n),t.availableQualities.forEach(((e,t)=>{e.active=t===n[0]}))}))})(t,a),{getTotalPlayed:()=>Promise.resolve(a.totalPlayed),getMetaData:()=>new Promise((e=>{if(a.metaData)return e(a.metaData);t.on("_metaDataLoadSuccess",(t=>e(t[0])))})),getTotalCovered:()=>Promise.resolve(a.totalCovered),getTotalCoveredArray:()=>Promise.resolve(a.totalCoveredArray),setFullscreen:e=>n("@vdo/eventBus",{eventBusEvent:{eventName:"requestFullscreenChange",value:e}}),updatePlayerConfig:e=>n("@vdo/eventBus",{eventBusEvent:{eventName:"updatePlayerConfig",value:e}}),hideCaptions:()=>n("@vdo/eventBus",{eventBusEvent:{eventName:"setCaptionVisibility",value:!1}}),setCaptionLanguage:e=>{const o=()=>n("@vdo/eventBus",{eventBusEvent:{eventName:"setCaptionLanguage",value:e}});return a.isWaitingForCaptions?new Promise((e=>{t.on("availableCaptionsWithActiveStatus",(()=>{e(o())}))})):o()},getCaptionLanguages:()=>{return e=this,n=void 0,i=function*(){return a.isWaitingForCaptions?new Promise((e=>{t.on("availableCaptionsWithActiveStatus",(()=>{e({visible:a.captionVisibility,languages:a.availableCaptions})}))})):{visible:a.captionVisibility,languages:a.availableCaptions}},new((o=void 0)||(o=Promise))((function(t,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,r)}d((i=i.apply(e,n||[])).next())}));var e,n,o,i},enableAdaptiveVideo:()=>n("@vdo/eventBus",{eventBusEvent:{eventName:"selectQualityTrack",value:-1}}),getVideoQualities:()=>Promise.resolve({adaptive:a.abrStatus,qualities:a.availableQualities}),setVideoQuality:e=>a.availableQualities.find((({id:t})=>e===t))?n("@vdo/eventBus",{eventBusEvent:{eventName:"selectQualityTrack",value:e}}):Promise.reject(new Error("[Vdocipher] (API) no desired video track found with trackId "+e)),addEventListener:(e,n)=>{if("function"!=typeof n)throw new Error("[Vdocipher] (API) handler must be type of function, but passed "+typeof n);if(!m.includes(e))throw new Error('[Vdocipher] (API) provided event is not supported by the method\n if it\'s HTML5 Video Element dom event please use "player.video.addEventListener"');return t.on(e,(e=>Array.isArray(e)?n(e[0]):n(e)))},loadVideo:({otp:e,playbackInfo:t})=>n("@vdo/eventBus",{eventBusEvent:{eventName:"loadVideo",value:{otp:e,playbackInfo:t}}}),_setChapters:t=>n("@vdo/eventBus",{eventBusEvent:{eventName:"setChapters",value:[t,e.duration]}})}}function y(e){const t=new p,n=new c.Z,a=document.createElement("video"),o={isHandshakeCompleted:!1,sendMessageBuffer:[]};((e,t)=>{(()=>{const e=document.createElement("style");e.type="text/css",e.id="style-element",e.innerHTML="\n    Iframe.vdo-semi-fullscreen{\n        position: fixed !important;\n        top: 0 !important;\n        left: 0 !important;\n        width: 100vw !important;\n        height: 100vh !important;\n        max-width: none !important;\n        max-height: none !important;\n        z-index: 9999 !important;\n    }\n    ",document.head.appendChild(e)})(),t.on("setSemiFullscreen",(([t])=>{t?e.classList.add("vdo-semi-fullscreen"):e.classList.remove("vdo-semi-fullscreen")}))})(e,n);const i=(e=>e instanceof HTMLIFrameElement?{operatingMode:"AGENT",element:e,type:"iframe"}:{operatingMode:"AGENT",element:e,type:"webcomponent"})(e),s=u(i);s.handshake.onSuccess((()=>{o.isHandshakeCompleted=!0,o.sendMessageBuffer.forEach((e=>s.send(...e)))})),s.handshake.onReady((()=>s.handshake.request())),s.handshake.request(),s.on("@vdo/element/event",(e=>{a.dispatchEvent(new CustomEvent(e.elementEventName))})),s.on("@vdo/updateState",(e=>{t.update(e.videoState)})),s.onStateUpdate(t.update),s.on("@vdo/eventBus",(e=>{e.eventBusEvent&&n.emit(e.eventBusEvent.eventName,e.eventBusEvent.value)}));const r=function({videoEl:e,videoState:t,sendMessage:n}){const a=["addEventListener","removeEventListener"];return new Proxy(e,{get(o,i){if("target"===i)return o;const s=e[i];if(s instanceof Function)return function(...t){return a.includes(i)?(s.apply(e,t),n("@vdo/element/event",{elementEventName:i})):n("@vdo/element/method",{elementMethod:{methodName:i,args:t}})};{const e=t.get(i);return void 0===e?s:e}},set:(t,a,o)=>(n("@vdo/element/property",{elementProperty:{name:a,value:o}}),e[a]=o,!0)})}({videoEl:a,videoState:t,sendMessage:s.send});return{video:r,api:Object.assign({},new h(r,n,s.send))}}const g=new Map;function f(e){if(g.has(e))throw new Error("[VdoCipher] (API) Cannot create multiple instances from the same Iframe\n use VdoPlayer.getInstance method to get the instance of already initiated iframe");return f.getInstance(e)}f.getInstance=function(e){if(!(e=>e&&"IFRAME"===e.nodeName)(e)&&!(e=>e&&"VDOCIPHER-PLAYER"===e.nodeName)(e))throw new Error("[VdoCipher] (API) element as HTMLIframeElement/Vdocipher-player is a required parameter");if(g.has(e))return g.get(e);const t=new y(e);return g.set(e,t),t},"function"==typeof window.onVdoPlayerV2APIReady&&window.onVdoPlayerV2APIReady(),f.attachAPI=function(e,n,i){if(null===window.parent)return;const s=[],r=[],d=u(i);n.on("*",((e,...t)=>{r.push({eventBusEvent:{name:e,arg:t}}),d.isConnected()&&d.send("@vdo/eventBus",{eventBusEvent:{eventName:e,value:t}})}));const l=()=>d.send("@vdo/updateState",{videoState:t(e)}),c=e=>{d.send("@vdo/element/event",{elementEventName:e})};!function(e,t){a.forEach((n=>{e.addEventListener(n,t)}))}(e,(({type:e})=>{o.includes(e)&&s.push(e),d.isConnected()&&(l(),c(e))})),d.handshake.ready(),d.handshake.onSuccess((()=>{n.emit("apiConnected",!0),l().then((()=>{s.forEach(c),r.forEach((({eventBusEvent:{name:e,arg:t}})=>d.send("@vdo/eventBus",{eventBusEvent:{eventName:e,value:t}})))}))})),d.on("@vdo/getState",(()=>l())),d.on("@vdo/element/event",(t=>{a.includes(t.elementEventName)||e.addEventListener(t.elementEventName,(()=>{l(),d.send("@vdo/element/event",{elementEventName:t.elementEventName})}))})),d.on("@vdo/element/method",(t=>{if(!t.elementMethod)return;if(!(t.elementMethod.methodName in HTMLMediaElement.prototype))return;const n=e[t.elementMethod.methodName];return Promise.resolve(n.call(e,...t.elementMethod.args))})),d.on("@vdo/element/property",(t=>{var n;(null===(n=t.elementProperty)||void 0===n?void 0:n.name)&&t.elementProperty.name in HTMLMediaElement.prototype&&(e[t.elementProperty.name]=t.elementProperty.value)})),d.on("@vdo/eventBus",(e=>{(null==e?void 0:e.eventBusEvent)&&n.emit(e.eventBusEvent.eventName,e.eventBusEvent.value)}))},window.VdoPlayer=f})()})();